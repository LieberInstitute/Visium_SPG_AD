Adding LIBD modules
Loading git
Loading LIBD module for git-status-size/github
Loading LIBD module for git-lfs/2.8.0
Loading LIBD module for rmate/1.5.9
Loading LIBD module for ruby/2.6.4p104
Loading conda_R/devel
**** Job starts ****
Fri Mar 11 20:34:57 EST 2022
**** JHPCE info ****
User: lcollado
Job id: 9470762
Job name: fasthplus_optimal_k_wholegenome
Hostname: compute-098.cm.cluster
Task id: 18
Unloading conda_R/devel
Loading conda_R/devel

Currently Loaded Modules:
  1) matlab/R2019a     6) COMMUNITY_CENTOS7_DEFAULT_ENV  11) ruby/2.6.4p104
  2) stata/17          7) JHPCE_CENTOS7_DEFAULT_ENV      12) rmate/1.5.9
  3) JHPCE_tools/1.0   8) git-status-size/github         13) conda/3-4.6.14
  4) sge/8.1.9         9) git/2.28.0                     14) conda_R/devel
  5) gcc/4.4.7        10) git-lfs/2.8.0

 

here() starts at /dcs04/lieber/lcolladotor/with10x_LIBD001/Visium_SPG_AD
Loading required package: SpatialExperiment
Loading required package: SingleCellExperiment
Loading required package: SummarizedExperiment
Loading required package: MatrixGenerics
Loading required package: matrixStats

Attaching package: ‘MatrixGenerics’

The following objects are masked from ‘package:matrixStats’:

    colAlls, colAnyNAs, colAnys, colAvgsPerRowSet, colCollapse,
    colCounts, colCummaxs, colCummins, colCumprods, colCumsums,
    colDiffs, colIQRDiffs, colIQRs, colLogSumExps, colMadDiffs,
    colMads, colMaxs, colMeans2, colMedians, colMins, colOrderStats,
    colProds, colQuantiles, colRanges, colRanks, colSdDiffs, colSds,
    colSums2, colTabulates, colVarDiffs, colVars, colWeightedMads,
    colWeightedMeans, colWeightedMedians, colWeightedSds,
    colWeightedVars, rowAlls, rowAnyNAs, rowAnys, rowAvgsPerColSet,
    rowCollapse, rowCounts, rowCummaxs, rowCummins, rowCumprods,
    rowCumsums, rowDiffs, rowIQRDiffs, rowIQRs, rowLogSumExps,
    rowMadDiffs, rowMads, rowMaxs, rowMeans2, rowMedians, rowMins,
    rowOrderStats, rowProds, rowQuantiles, rowRanges, rowRanks,
    rowSdDiffs, rowSds, rowSums2, rowTabulates, rowVarDiffs, rowVars,
    rowWeightedMads, rowWeightedMeans, rowWeightedMedians,
    rowWeightedSds, rowWeightedVars

Loading required package: GenomicRanges
Loading required package: stats4
Loading required package: BiocGenerics

Attaching package: ‘BiocGenerics’

The following objects are masked from ‘package:stats’:

    IQR, mad, sd, var, xtabs

The following objects are masked from ‘package:base’:

    anyDuplicated, append, as.data.frame, basename, cbind, colnames,
    dirname, do.call, duplicated, eval, evalq, Filter, Find, get, grep,
    grepl, intersect, is.unsorted, lapply, Map, mapply, match, mget,
    order, paste, pmax, pmax.int, pmin, pmin.int, Position, rank,
    rbind, Reduce, rownames, sapply, setdiff, sort, table, tapply,
    union, unique, unsplit, which.max, which.min

Loading required package: S4Vectors

Attaching package: ‘S4Vectors’

The following objects are masked from ‘package:base’:

    expand.grid, I, unname

Loading required package: IRanges
Loading required package: GenomeInfoDb
Loading required package: Biobase
Welcome to Bioconductor

    Vignettes contain introductory material; view with
    'browseVignettes()'. To cite Bioconductor, see
    'citation("Biobase")', and for packages 'citation("pkgname")'.


Attaching package: ‘Biobase’

The following object is masked from ‘package:MatrixGenerics’:

    rowMedians

The following objects are masked from ‘package:matrixStats’:

    anyMissing, rowMedians

Overwriting 'spe$key'. Set 'overwrite = FALSE' if you do not want to overwrite it.
2022-03-11 21:07:53 t value based on proportion: 1905
2022-03-11 21:07:54 t value estimated: 1905
Warning message:
In write.table(results, file = here::here("processed-data", "08_harmony_BayesSpace",  :
  appending column names to file
2022-03-21 04:29:46 t value based on proportion: 1668
2022-03-21 04:29:46 t value estimated: 108
For k: 18 we are dropping small clusters: 15
2022-03-21 04:29:46 t value based on proportion: 1668
2022-03-21 04:29:46 t value estimated: 1668

 *** caught bus error ***
address 0x7f4c807e14a0, cause 'non-existent physical address'

Traceback:
 1: .Call2("anyMissing", x, PACKAGE = "S4Vectors")
 2: anyMissing(x_pslotnames)
 3: .validate_Vector_parallel_slots(x)
 4: method(object)
 5: validityMethod(as(object, superClass))
 6: isTRUE(x)
 7: anyStrings(validityMethod(as(object, superClass)))
 8: validObject(result)
 9: updateObject(x)
10: .nextMethod(x = x, i = , j = j)
11: callNextMethod()
12: spe[, spots_and_t_noWM$spots_to_use]
13: spe[, spots_and_t_noWM$spots_to_use]
14: reducedDims(spe[, spots_and_t_noWM$spots_to_use])
15: class(D) %in% c("matrix", "data.frame")
16: hpb(D = reducedDims(spe[, spots_and_t_noWM$spots_to_use])$HARMONY,     L = colData(spe)[[paste0("BayesSpace_harmony_k", k_nice)]][spots_and_t_noWM$spots_to_use],     t = spots_and_t_noWM$t_value, r = 30)
An irrecoverable exception occurred. R is aborting now ...
/cm/local/apps/sge/sge-8.1.9/default/spool/compute-098/job_scripts/9470762: line 29: 23385 Bus error               (core dumped) Rscript 05_fasthplus_optimal_k.R -s wholegenome
**** Job ends ****
Mon Mar 21 04:31:26 EDT 2022
